---
layout: default
title: Activity
permalink: /activity/
container_class: activity
---
<div class="panel panel-default">
  <!-- Default panel contents -->
  <div class="panel-heading">
    <div class="pull-right">
      <i class="fa fa-road fa-2x"></i>
    </div>
    <h3>Activity</h3>
  </div>

  <!-- List group -->
  <ul class="list-group">
  </ul>
</div>
<script>
function convertDistance(distance) {
  return Number((distance * 0.000621371).toPrecision(2)) + " miles";
}

function capitaliseFirstLetter(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

function convertDuration(seconds) {
  return Number((seconds / 60).toPrecision(2)) + " minutes";
}

$( document ).ready(function() {
  $.get( "http://moves.saegey.com/dailySummaries.json", function( data ) {
    var data = _.sortBy(data.summaries, function(day) { return day.date}).reverse();
    for(var i = 0; i < data.length; ++i) {
      var html = '<li class="list-group-item">';
      html += '<div class="pull-right">' + moment(data[i].date).fromNow() + "</div>";
      _.each(data[i].summary, function(summary) {
      	html += '<p><strong>' + capitaliseFirstLetter(summary.activity) + '</strong></p>';
      	html += '<p>' + convertDistance(summary.distance);
      	html += " / " + convertDuration(summary.duration) + '</p>';
      });
      html += '</li>';
      $(".panel ul").append(html);
    }
  });
});
</script>